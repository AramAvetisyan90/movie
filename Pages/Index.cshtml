@page
@model IndexModel
@{
    ViewData["Title"] = "Film Show - Watch Movies Online";
    ViewData["Description"] = "The best film show experience. Watch unlimited movies and TV shows online. High quality streaming of your favorite films.";
    ViewData["Keywords"] = "film show, movies, watch online, streaming, tv shows, best movies";
}

<script type="application/ld+json">
{
  "@@context": "https://schema.org",
  "@@type": "WebSite",
  "name": "Movie App",
  "url": "https://www.example.com/",
  "potentialAction": {
    "@@type": "SearchAction",
    "target": "https://www.example.com/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<div class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">Unlimited movies, TV shows, and more</h1>
        <p class="hero-subtitle">Watch anywhere. Cancel anytime.</p>
    </div>
</div>

<div class="search-container">
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search movies..." class="search-input" />
        <button type="button" class="search-button">Search</button>
    </div>
</div>

<div class="movie-container">
    <h2 class="section-title">Trending Now</h2>
    <div class="movie-grid" id="movieGrid">
        @foreach (var movie in Model.Movies)
        {
            <a asp-page="/Watch" asp-route-id="@movie.Id" class="movie-link" style="text-decoration: none; color: inherit;">
                <div class="movie-card">
                    <img src="@movie.PosterUrl" alt="@movie.Title" class="movie-poster" />
                    <div class="movie-info">
                        <h3 class="movie-title">@movie.Title</h3>
                        <span class="movie-year">@movie.ReleaseYear</span>
                        <p class="movie-desc">@movie.Description</p>
                    </div>
                </div>
            </a>
        }
    </div>
</div>

<script>
    document.getElementById('searchInput').addEventListener('keyup', function() {
        let filter = this.value.toLowerCase();
        let movies = document.querySelectorAll('.movie-link');

        movies.forEach(function(movie) {
            let title = movie.querySelector('.movie-title').textContent.toLowerCase();
            if (title.includes(filter)) {
                movie.style.display = '';
            } else {
                movie.style.display = 'none';
            }
        });
    });
</script>
